{"componentChunkName":"component---src-templates-note-template-tsx","path":"/absinthe/dataloader","result":{"data":{"markdownRemark":{"html":"<ul>\n<li>tool that can help your application fetch data in an optimal way by implementing batching and caching</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\">source <span class=\"token operator\">=</span> Dataloader<span class=\"token punctuation\">.</span>Ecto<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span>MyApp<span class=\"token punctuation\">.</span>Repo<span class=\"token punctuation\">)</span>\n\nloader <span class=\"token operator\">=</span> Dataloader<span class=\"token punctuation\">.</span>add_source<span class=\"token punctuation\">(</span>Dataloader<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">,</span> <span class=\"token atom symbol\">:db</span><span class=\"token punctuation\">,</span> source<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># load some data</span>\nloader <span class=\"token operator\">=</span>\n  loader\n  <span class=\"token operator\">|></span> Dataloader<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token atom symbol\">:db</span><span class=\"token punctuation\">,</span> User<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token operator\">|></span> Dataloader<span class=\"token punctuation\">.</span>load_many<span class=\"token punctuation\">(</span><span class=\"token atom symbol\">:db</span><span class=\"token punctuation\">,</span> User<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># talk to db</span>\nloader <span class=\"token operator\">=</span> Dataloader<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span>loader<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># get value</span>\nusers <span class=\"token operator\">=</span> Dataloader<span class=\"token punctuation\">.</span>get_many<span class=\"token punctuation\">(</span>loader<span class=\"token punctuation\">,</span> <span class=\"token atom symbol\">:db</span><span class=\"token punctuation\">,</span> User<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"date":"March 14, 2021","path":"/absinthe/dataloader","title":"Dataloader","category":"Absinthe"}}},"pageContext":{}}}